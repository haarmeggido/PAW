
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel = "stylesheet" href="style.css">
    <title>Zad 5</title>
</head>
<body>
    <main>
        
        <video controls src = "videos/cat.mp4" type="video/mp4" id="myvideo">video not supported</video> 
        <br>
        <button onclick = "videoChanger()"> NEXT </button>
        <button onclick = "autoplay(auto)" class = "auto-button"> AUTOPLAY OFF </button>
        
    </main>
    <script>
        let auto = false;
        var video = document.getElementsByTagName('video')[0];
        video.autoplay = true;
        video.onended = function(e) {
            if(auto)
                videoChanger();
        };
        let buttonAutoText = document.querySelector('.auto-button');
        function autoplay(autovar){
            if(autovar){
                console.log("inside true")
                buttonAutoText.innerHTML = "AUTOPLAY OFF";
                auto = false;
                video.autoplay = false;
            }
            else{
                buttonAutoText.innerHTML = "AUTOPLAY ON";
                auto = true;
                video.autoplay = true;
            }
        }

        let myIndex = 0;
        let videoPrefix = "videos/";
        let myVideos = [
            "cat.mp4",
            "cat2.mp4",
            "cat3.mp4",
            "cat4.mp4",
            "cat5.mp4"
        ];
        let source = videoPrefix + myVideos[myIndex];

        function videoChanger() {
            myIndex += 1;
            if (myIndex >= myVideos.length)
                myIndex = 0;
            source = `${videoPrefix + myVideos[myIndex]}`;
            document.querySelector("video").src = source;
        }
    </script>
</body>
</html>